{"version":3,"file":"static/js/92278.188119a6.chunk.js","mappings":"+OAI2hB,SAASA,EAAEC,GAAE,IAAAC,EAAAC,EAAC,MAAMC,EAAE,IAAIC,EAAAA,EAAEC,EAAoB,QAAnBJ,EAACD,EAAEM,wBAAgB,IAAAL,EAAAA,EAAED,EAAEO,UAAUC,KAAKF,iBAAiB,OAAOH,EAAEM,gBAAgBC,IAAI,CAACC,OAAe,QAATT,EAACF,EAAEW,cAAM,IAAAT,EAAAA,EAAEU,EAAEZ,EAAEK,GAAGQ,OAAO,CAACC,KAAK,WAAWC,KAAKC,GAAgPC,eAAiBD,EAACE,GAA0C,IAAxCX,UAAUF,EAAEc,UAAUC,EAAEC,aAAajB,GAAEc,EAAE,MAAMnB,EAAEM,EAAEiB,uBAAuBF,GAAG,GAAK,OAADrB,QAAC,IAADA,IAAAA,EAAGwB,qBAAqB,MAAM,IAAIvB,EAAAA,EAAE,kCAAkC,0EAA0E,MAAMY,EAAE,CAACY,QAAQ,KAAKC,KAAK,KAAKC,OAAO,EAAEC,WAAW,EAAEC,SAAS,GAAG7B,EAAEwB,qBAAqBM,sBAAsBzB,EAAEQ,GAAG,MAAMY,QAAQM,EAAEL,KAAKM,EAAEL,OAAOM,EAAEL,WAAWM,EAAEL,SAASM,GAAGtB,EAAEuB,EAAE,IAAIC,aAAa,GAAGF,EAAED,IAAI,IAAII,EAAE,EAAE,IAAI,IAAIrC,EAAEiC,EAAEjC,EAAEkC,EAAElC,GAAG,EAAE,CAAC,MAAMgB,EAAEgB,EAAEF,EAAE9B,GAAGG,EAAE6B,EAAEF,EAAE9B,EAAE,GAAGK,EAAE2B,EAAEF,EAAE9B,EAAE,GAAGmC,EAAEE,KAAKN,EAAEf,GAAGmB,EAAEE,KAAKN,EAAEf,EAAE,GAAGmB,EAAEE,KAAKN,EAAEf,EAAE,GAAGmB,EAAEE,KAAKN,EAAE5B,GAAGgC,EAAEE,KAAKN,EAAE5B,EAAE,GAAGgC,EAAEE,KAAKN,EAAE5B,EAAE,GAAGgC,EAAEE,KAAKN,EAAE1B,GAAG8B,EAAEE,KAAKN,EAAE1B,EAAE,GAAG8B,EAAEE,KAAKN,EAAE1B,EAAE,EAAE,CAAC,MAAMiC,EAAEvC,EAAEwC,WAAUC,EAAAA,EAAAA,GAAEL,EAAEA,EAAEG,EAAEG,gBAAeC,EAAAA,EAAAA,GAAEP,EAAEA,EAAEG,EAAEK,WAAUxC,EAAAA,EAAAA,eAAEgC,EAAE9B,EAAEG,KAAKoC,uBAAuB,EAAET,EAAEnB,EAAEV,iBAAiB,GAAGU,EAAE6B,iBAAiB,IAAIC,EAAAA,EAAE,CAACH,SAASR,GAAG,CAAvgCL,CAAEd,EAAEhB,MAAM,IAAIgB,EAAAA,QAAE,CAAC+B,SAAS5C,EAAE6C,YAAY,IAAI5B,EAAAA,EAAEd,iBAAiBD,GAAG,CAAC,SAASO,EAACqC,EAA0CH,GAAE,IAA1CvC,UAAUP,EAAEmB,UAAUH,EAAEK,aAAaD,GAAE6B,EAAI,MAAMT,EAAExC,EAAEkD,QAAQlC,EAAEI,GAAG,IAAIoB,EAAE,OAAO,KAAK,MAAME,EAAE1C,EAAEQ,KAAKF,iBAAiB,OAAOoC,EAAES,OAAOL,KAAI3C,EAAAA,EAAAA,eAAEqC,EAAEE,EAAE,EAAEF,EAAEM,EAAE,IAAGzC,EAAAA,EAAAA,IAAEmC,EAAEM,EAAE,C,wGCAltB,SAAS1B,EAAEA,EAAEoB,GAAG,MAAMM,EAAE,IAAIM,MAAMpB,EAAEhC,EAAAA,EAAEqD,SAASb,EAAElC,kBAAkB,IAAI,MAAMN,KAAKwC,EAAEc,SAAS,CAAC,MAAMnD,EAAEH,EAAE+C,SAASP,GAAExB,EAAAA,EAAAA,IAAEhB,EAAEuD,UAAU,IAAIpD,IAAIqC,EAAE,CAACM,EAAEU,KAAK,MAAM,QAAQ,CAAChB,EAAElC,iBAAiB0B,EAAE,MAAMpB,EAAE4B,EAAE7B,OAAO+B,GAAErC,EAAAA,EAAAA,YAAE,CAACE,UAAUa,EAAED,UAAUhB,EAAEsD,KAAKC,KAAKC,MAAMtC,aAAalB,EAAEwD,MAAMhD,OAAOC,EAAEN,iBAAiB0B,IAAIc,EAAEU,KAAKd,GAAG1C,EAAEuD,SAAS,IAAI,CAAC,MAAM3C,EAAET,EAAAA,EAAEkD,SAASb,GAAG,IAAI,IAAIxC,EAAE,EAAEA,EAAEY,EAAE0C,SAASM,OAAO5D,IAAI,CAAC,MAAMgB,EAAEJ,EAAE0C,SAAStD,GAAGG,EAAE2C,EAAE9C,GAAGgB,EAAEuC,SAASpD,CAAC,CAAC,OAAOS,CAAC,C","sources":["../node_modules/@arcgis/core/views/3d/layers/i3s/meshUtils.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SQueryResultGeometry.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import t from\"../../../../geometry/Mesh.js\";import{projectBuffer as r}from\"../../../../geometry/projection/projectBuffer.js\";import{toExtent as o}from\"../../../../geometry/support/aaBoundingBox.js\";import n from\"../../../../geometry/support/MeshGeoreferencedVertexSpace.js\";import{MeshVertexAttributes as a}from\"../../../../geometry/support/MeshVertexAttributes.js\";import{b as s,a as i}from\"../../../../chunks/vec3.js\";import{Metadata as c}from\"../../../../geometry/support/meshUtils/Metadata.js\";function l(e){const r=new c,o=e.spatialReference??e.layerView.view.spatialReference;return r.externalSources.add({extent:e.extent??m(e,o),source:{type:\"loadable\",load:t=>p(t,e)}}),new t({metadata:r,vertexSpace:new n,spatialReference:o})}function m({layerView:e,nodeIndex:t,featureIndex:n},a){const s=e.getAABB(t,n);if(!s)return null;const i=e.view.spatialReference;return i.equals(a)||r(s,i,0,s,a,0),o(s,a)}async function p(t,{layerView:o,nodeIndex:n,featureIndex:c}){const l=o.getNodeComponentHandle(n);if(!l?.intersectionGeometry)throw new e(\"i3s-layer-view-geometry-missing\",\"Cannot load mesh because scene layer view data is no longer available.\");const m={indices:null,data:null,stride:0,startIndex:0,endIndex:0};l.intersectionGeometry.getComponentPositions(c,m);const{indices:p,data:d,stride:f,startIndex:u,endIndex:x}=m,y=new Float64Array(3*(x-u));let w=0;for(let e=u;e<x;e+=3){const t=f*p[e],r=f*p[e+1],o=f*p[e+2];y[w++]=d[t],y[w++]=d[t+1],y[w++]=d[t+2],y[w++]=d[r],y[w++]=d[r+1],y[w++]=d[r+2],y[w++]=d[o],y[w++]=d[o+1],y[w++]=d[o+2]}const g=l.transform;s(y,y,g.rotationScale),i(y,y,g.position),r(y,o.view.renderSpatialReference,0,y,t.spatialReference,0),t.vertexAttributes=new a({position:y})}export{l as createMesh};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../../../geometry/SpatialReference.js\";import{fromJSON as t}from\"../../../../geometry/support/jsonUtils.js\";import r from\"../../../../rest/support/FeatureSet.js\";import{createMesh as o}from\"./meshUtils.js\";function n(n,s){const a=new Array,f=e.fromJSON(s.spatialReference);for(const e of s.features){const r=e.metadata,s=t(e.geometry);if(!r||!s){a.push(null);continue}s.spatialReference=f;const m=s.extent,i=o({layerView:n,nodeIndex:r.meta.node.index,featureIndex:r.index,extent:m,spatialReference:f});a.push(i),e.geometry=null}const m=r.fromJSON(s);for(let e=0;e<m.features.length;e++){const t=m.features[e],r=a[e];t.geometry=r}return m}export{n as processQueryGeometries};\n"],"names":["l","e","_e$spatialReference","_e$extent","r","c","o","spatialReference","layerView","view","externalSources","add","extent","m","source","type","load","t","async","_ref2","nodeIndex","n","featureIndex","getNodeComponentHandle","intersectionGeometry","indices","data","stride","startIndex","endIndex","getComponentPositions","p","d","f","u","x","y","Float64Array","w","g","transform","s","rotationScale","i","position","renderSpatialReference","vertexAttributes","a","metadata","vertexSpace","_ref","getAABB","equals","Array","fromJSON","features","geometry","push","meta","node","index","length"],"sourceRoot":""}